<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 	<mapper namespace="ksmart.pentagon.board.BoardMapper">
 		<resultMap type="ksmart.pentagon.vo.Board" id="boardNoticeList">
 			<result property="boardCode" column="board_code"/>
 			<result property="lCode" column="l_code"/>
 			<result property="uId" column="u_id"/>
 			<result property="boardLCode" column="board_l_code"/>
 			<result property="boardMCode" column="board_m_code"/>
 			<result property="boardTitle" column="board_title"/>
 			<result property="boardPw" column="board_pw"/>
 			<result property="boardContent" column="board_content"/>
 			<result property="boardOpen" column="board_open"/>
 			<result property="boardPageView" column="board_page_view"/>
 			<result property="boardDate" column="board_date"/>
 		</resultMap>
  	<select id="getBoard" resultMap="boardNoticeList">
  		SELECT
	*
	FROM board AS b INNER JOIN board_medium AS me
	ON b.board_m_code = me.board_m_code
	WHERE me.board_m_name = #{boardLName}
  	</select>
  	<select id="maxBoardCode" resultType="String">
  		SELECT
  		max(board_code)
  		AS max
  		FROM board
  	</select>
  	<select id="boardInsert" resultMap="boardNoticeList">
 		INSERT INTO board
	(board_code, 
	l_code, 
	u_id, 
	board_l_code, 
	board_m_code, 
	board_title, 
	board_pw, 
	board_content, 
	board_open, 
	board_page_view, 
	board_date)
	VALUES (#{boardCode}, #{lCode}, #{uId}, #{boardLCode}, #{boardMCode}, #{boardTitle}, #{boardPw}, #{boardContent}, #{boardOpen}, 0, NOW())
  	</select>
  	
  	</mapper>