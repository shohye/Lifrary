<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/admin/adminDefault}" class="default-style">

	<!-- teamScript(각페이지에서 각자 구현할 자바스크립트)  -->
	<th:block layout:fragment="teamHeadScript">
		<script>
		$(document).ready(function(){
			$('#putIsbnBtn').click(function(){
				var isbnVal = $('#isbnVal').val()
				console.log(isbnVal);
				var request = $.ajax({
				  url: "/admin/bookRecommendInsert",
				  method: "POST",
				  data: { "isbnVal" : isbnVal },
				  dataType: "json"
				});
				 
				request.done(function( data ) {
					//console.log(data);
				  var biName = data.biName;
				  var biAuthor = data.biAuthor;
				  var biPublisher = data.biPublisher;
				  var biYear = data.biYear;
				  var biDtail = data.biDtail;
				  var biImg = data.biImg;
				  
				  $('#biImg').attr("src",biImg);
				  $('#biName').text(biName);
				  $('#biAuthor').text(biAuthor);
				  $('#biPublisher').text(biPublisher);
				  $('#biYear').text(biYear);
				  $('#biDtail').text(biDtail);
				  
				  
				  
				});
				 
				request.fail(function( jqXHR, textStatus ) {
				  alert( "Request failed: " + textStatus );
				})
			})
		});
		</script>
	</th:block>
	<!-- / teamScript(각페이지에서 각자 구현할 자바스크립트)  -->
	<!-- Content -->
	<th:block layout:fragment="adminContents">
	
		<script type="text/javascript" th:src="@{/library/ckeditor/ckeditor.js}"></script>
		 	<h2 class="font-weight-bold py-3 mb-4">
              <span class="text-muted font-weight-light"></span>사서추천 도서
            </h2>
			<div class="card mb-4">
				<div>
					<table>
						<tr>
							<td style="padding: 20px; padding-left: 60px;" colspan="3">
								<span>ISBN : </span> <input type="text" id="isbnVal" placeholder=" ISBN 코드를 입력해주세요." style="width: 180px;">&ensp;
								<a id="putIsbnBtn" class="btn btn-primary btn-sm" style="color: #FFFFFF;">도서정보 불러오기</a>
							</td>
						</tr>
						<tr>
							<td style="padding: 20px; padding-left: 60px;">
								<div>
									<img style="width: 150px; height: 200px;" id="biImg">
								</div>
							</td>
							<td>
								<h3><strong>제목</strong></h3>
								<h5><strong>저자명</strong></h5>
								<h5><strong>출판사</strong></h5>
								<h5><strong>출판년도</strong></h5>
							</td>
							<td style="padding: 20px; padding-left: 40px;">
								<h3><span style="color: #848484;" id="biName"></span></h3>
								<h5><span style="color: #848484;" id="biAuthor"></span></h5>
								<h5><span style="color: #848484;" id="biPublisher"></span></h5>
								<h5><span style="color: #848484;" id="biYear"></span></h5>
								<ul></ul>
							</td>
						</tr>
					</table>
				<hr style="border-color: #BDBDBD; width: 90%">
				<div style="padding: 20px; padding-left: 70px;">
					<table>
						<tr>
							<td style="width: 20px;">
								<span><h3><a class="btn-primary d-block" style="width: 10px; height: 20px;"></a></h3></span>
							</td>
							<td>
							<h3><span>책 내용</span></h3>
							</td>
							<td colspan="2">
								<span><h3> &emsp;</h3></span>
							</td>
						</tr>
						<tr>
							<td colspan="2">
								<span id="biDtail"></span>
							</td>
						</tr>
					</table>
				</div>
				<hr style="border-color: #BDBDBD; width: 90%">
				<div style="padding: 20px; padding-left: 70px;">
					<table>
						<tr style="width: 100%">
							<td style="width: 20px;">
								<h3><a class="btn-primary d-block" style="width: 10px; height: 20px;"></a></h3>
							
							</td>
							<td>
								<h3 style="width: 200px;">추천인 서평</h3>
							</td>
						</tr>
						<tr style="width: 100%">
							<td colspan="2"  style="width: 100%">
								<textarea rows="30" id="lbContent" style="width: 1000px; height: 300px;" placeholder="서평을 입력해주세요."></textarea>
							</td>
						</tr>
					</table>
				</div>
				<hr style="border-color: #BDBDBD; width: 90%">
				<div style="padding: 20px; padding-left: 70px;">
					<table>
						<tr>
							<td style="width: 20px;">
								<span><h3><a class="btn-primary d-block" style="width: 10px; height: 20px;"></a></h3></span>
							</td>
							<td>
							<h3><span>추천인</span></h3>
							</td>
							<td colspan="2">
								<span><h3> &emsp;</h3></span>
							</td>
						</tr>
						<tr>
							<td colspan="2">
								<span id="lbId" th:text="${session.SAID}"></span>
							</td>
						</tr>
					</table>
				</div>
				<hr style="border-color: #BDBDBD; width: 90%">
			<div style="padding: 20px; padding-left: 60px;">
				<table>
					<tr>
						<td>
							<a href="/admin/bookRecommendInsert" style="color: white"> 
					            <button type="button" class="btn btn-primary d-block" style="margin-top: 10px;">
					            	<span class="ion ion-md-add">추천등록</span>
								</button>
							</a>
						</td>
						<td>
							<button type="button" class="btn d-block btn-secondary" style="margin-top: 10px;">
								<a th:href="@{/admin/bookRecommendList}" style="color: white"> 
				          			<span class="far fa-list-alt">리스트</span>
				       			</a>
							</button>
						
						</td>
					</tr>
				</table>
			</div>
		</div>
		</div>
	<!-- / Content -->

	<!-- script -->
	<th:block layout:fragment="pageScript">
	
		<!-- addLibs -->
		<script th:src="@{/admin/vendor/libs/chartjs/chartjs.js}"></script>
	
		<!-- addDemo -->
	</th:block>
<!-- /script -->



</html>