<!DOCTYPE html>
<html 	xmlns:th="http://www.thymeleaf.org"
		xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
		layout:decorate="~{layout/library/libraryDefault}">
	<th:block layout:fragment="customScript">
	<link th:href="@{/library/fullcalendar/packages/core/main.css}" rel="stylesheet" />
   	<link th:href="@{/library/fullcalendar/packages/daygrid/main.css}" rel="stylesheet" />

   	<script th:src="@{/library/fullcalendar/packages/core/main.js}"></script>
   	<script th:src="@{/library/fullcalendar/packages/daygrid/main.js}"></script>
   	<script th:src="@{/library/fullcalendar/packages/core/locales/ko.js}"></script>
   	<script type="text/javascript">
		
      document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('bookCalendar');

        var calendar = new FullCalendar.Calendar(calendarEl, {
          plugins: [ 'dayGrid'],
          customButtons: {
        	    book: {
        	      text: '북 캘린더',
        	      click: function() {
        	        alert('북캘린더 화면에 뿌리기');
        	      }
        	    },
        	    month:{
        	      text: '월별',
          	      click: function() {
          	        alert('월별 화면에 뿌리기');
          	      }	
        	    }
        	  },
          header: {
              left: 'book month',
              center: 'title'
            },
            {$.ajax 
                ({ 
                 type: "POST", 
                 contentType: "application/json; charset=utf-8", 
                 url: "/lifrary/myCalender", 
                 dataType: 'json', 
                 success: function (data) 
                 { 
                  var events = []; 
                  $.each(data, function (index, value) { 

                   events.push({ 
                    id: value['id'], 
                    title: value['title'], 
                    date: value['date'] 
                   }); 
                   console.log(value) 
                  }); 
                  callback(events); 
                 }, 
                 error: function (xhr, err) { 
                  alert("ERROR! - readyState: " + xhr.readyState + "<br/>status: " + xhr.status + "<br/>responseText: " + xhr.responseText); 
                 } 
                }); 
               }  
          });

        calendar.render();
      });

    </script>
    <style type="text/css">
    #bookCalendar {
        max-width: 800px;
        margin: 0 0 20px;
    }
    #bookCalendar h2 {
    	color: #2C3E50;;
    }
    .fc-day-number.fc-sat.fc-past { color:#0000FF; }
    .fc-day-number.fc-sun.fc-past { color:#FF0000; }
</style>
  
	<th:block layout:fragment="customContents">

       <section class="page-banner services-banner">
            <div class="container">
                <div class="banner-header">
                    <h2>Book & Diary</h2>
                    <span class="underline center"></span>
                    <p class="lead">매일 매일 적어보는 북다이어리</p>
                </div>
                <div class="breadcrumb">
                    <ul>
                        <li><a th:href="@{/}">Home</a></li>
                        <li>Book & Diary</li>
                    </ul>
                </div>
            </div>
        </section>
        <div id="content" class="site-content">
            <div id="primary" class="content-area">
                <main id="main" class="site-main">
                    <div class="books-media-list">
                        <div class="container">
                            <div class="row">
                                <!-- Start: Search Section -->
                                <section class="search-filters">
                                    <div class="container">
                                        <div class="filter-box">
                                            <h3>내 독서 목표량 진행 상황</h3>
                                                <div class="col-md-4 col-sm-6">
                                                    <div class="form-group">
                                                        <label for="keywords">년도별 목표량</label>
                                                        <input class="form-control" placeholder="년별 목표량"  type="text" readonly="readonly">
                                                    </div>
                                                </div>
                                                <div class="col-md-4 col-sm-6">
                                                    <div class="form-group">
                                                        <label for="keywords">분기별 목표량</label>
                                                        <input class="form-control" placeholder="분기별 목표량"  type="text" readonly="readonly">
                                                    </div>
                                                </div>
                                                <div class="col-md-4 col-sm-6">
                                                    <div class="form-group">
                                                        <label for="keywords">월별 목표량</label>
                                                        <input class="form-control" placeholder="월별목표량" type="text" readonly="readonly">
                                                    </div>
                                                </div>
                                        </div>
                                    </div>
                                </section>
                                <!-- End: Search Section -->
                            </div>
                            <div class="row">
                                <div class="col-md-9 col-md-push-3">
                                    <div id="bookCalendar"></div>
                                </div>
                                <!-- 마이페이지 사이드메뉴  -->
                                <div th:replace="/fragments/library/myPageLeftMenu :: myPageLeftMenuFragment"></div>
                                <!-- 마이페이지 사이드메뉴-->
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>
    </th:block>
</html>