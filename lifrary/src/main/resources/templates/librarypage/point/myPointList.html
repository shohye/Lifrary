<!DOCTYPE html>
<html 	xmlns:th="http://www.thymeleaf.org"
		xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
		layout:decorate="~{layout/library/libraryDefault}">
   <th:block layout:fragment="libraryTitle">
		<title>나의 포인트</title>
   </th:block> 
   <th:block layout:fragment="customScript">
	   <script type="text/javascript" th:inline="javascript">
		   	$(document).ready(function() {
			   	$('.modal').on('hidden.bs.modal', function (e) {
					 $(this).find('form')[0].reset()
				});
		   });//document.ready
	   
	   </script>
   </th:block>
   <th:block layout:fragment="customContents">
       <section class="page-banner services-banner">
            <div class="container">
                <div class="banner-header">
                    <h2>MY POINT</h2>
                    <span class="underline center"></span>
                    <p class="lead">나의 포인트 사용 이력</p>
                </div>
                <div class="breadcrumb">
                    <ul>
                        <li><a th:href="@{/}">Home</a></li>
                        <li>MY POINT</li>
                    </ul>
                </div>
            </div>
        </section>
        <div id="content" class="site-content">
            <div id="primary" class="content-area">
                <main id="main" class="site-main">
                    <div class="books-media-list">
                        <div class="container">
                            <div class="row">
                                <!-- Start: Search Section -->
                                <section class="search-filters">
                                    <div class="container">
                                        <div class="filter-box">
                                            <h3>무엇을 넣어야 좋을까..?</h3>
                                                <div class="col-md-4 col-sm-6">
                                                    <div class="form-group">
                                                        <label for="keywords">세모</label>
                                                        <input class="form-control" placeholder=""  type="text" readonly="readonly">
                                                    </div>
                                                </div>
                                                <div class="col-md-4 col-sm-6">
                                                    <div class="form-group">
                                                        <label for="keywords">네모</label>
                                                        <input class="form-control" placeholder=""  type="text" readonly="readonly">
                                                    </div>
                                                </div>
                                                <div class="col-md-4 col-sm-6">
                                                    <div class="form-group">
                                                        <label for="keywords">치와와</label>
                                                        <input class="form-control" placeholder="" type="text" readonly="readonly">
                                                    </div>
                                                </div>
                                        </div>
                                    </div>
                                </section>
                                <!-- End: Search Section -->
                            </div>
                            <div class="row">
                                <div class="col-md-9 col-md-push-3">
                                	<h3>나의 포인트</h3> <br>
                                	<div class="filter-options margin-list">
                                        <div class="row">                                            
                                            <div class="col-md-3 col-sm-3" th:if="${myTotalPoint != null}">
                                                <h4 th:text="|총 포인트:&nbsp&nbsp${myTotalPoint}|" style="color: #ff7236;"></h4>
                                            </div>
                                            <div class="col-md-3 col-sm-3" th:unless="${myTotalPoint != null}">
                                                <h4 style="color: #ff7236;">총 포인트:&nbsp&nbsp 0</h4>
                                            </div>
                                            <div class="col-md-3 col-sm-3 pull-right">
                                                <div >
                                                	<a href="#insertModal" class="btn btn-dark-gray" data-toggle="modal">포인트 사용</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                   <table class="table table-striped table-bordered">                         
					                  <thead>
					                    <tr>
					                      <th>번호</th>
					                      <th>포인트명</th>
					                      <th>상세설명</th>
					                      <th>포인트</th>
					                      <th>등록일</th>
					                    </tr>
					                  </thead>
							          <tbody>
							          	<th:block th:if="${#lists.size(myPointList)} > 0">
									  	<tr th:each="Mpl,C : ${myPointList}">	
									      <td class="align-middle" th:text="${C.count}">번호</td>
									      <td class="align-middle" th:text="${Mpl.pName}">포인트명</td>
									      <td class="align-middle" th:text="${Mpl.pStandard}">상세설명</td>
									      <td class="align-middle" th:text="${Mpl.pPoint}">포인트</td>
									      <td class="align-middle" th:text="${Mpl.phDate}">등록일</td>		
									  	</tr>
									  	 </th:block>
									  	 <th:block th:unless="${#lists.size(myPointList)} > 0">
								             <tr>
								            	 <td colspan="7" style="height: 150px; text-align: center; vertical-align: middle;">포인트이력이 없습니다</td>
								             </tr>	
							             </th:block>
									  </tbody> 
						            </table>
                                    <nav class="navigation pagination text-center">
                                        <h2 class="screen-reader-text">Posts navigation</h2>
                                        <div class="nav-links">
                                            <a class="prev page-numbers" th:href="@{#}"><i class="fa fa-long-arrow-left"></i> Previous</a>
                                            <span class="page-numbers current">1</span>
                                            <a class="page-numbers" th:href="@{#}">2</a>
                                            <a class="page-numbers" th:href="@{#}">3</a>
                                            <a class="page-numbers" th:href="@{#}">4</a>
                                            <a class="next page-numbers" th:href="@{#}">Next <i class="fa fa-long-arrow-right"></i></a>
                                        </div>
                                    </nav>
                                </div>
                                <!-- 마이페이지 사이드메뉴  -->
                                <div th:replace="fragments/library/myPageLeftMenu :: myPageLeftMenuFragment"></div>
                                <!-- 마이페이지 사이드메뉴-->
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>
        <div class="modal fade" id="insertModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		  <div class="modal-dialog">
		    <form id="updateForm" class="modal-content" th:action="@{/lifrary/myCalenderUpdate}" method="post">
		      <div class="modal-header">
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		        <h4 class="modal-title" id="myModalLabel">포인트 사용</h4>
		      </div>
		      <div class="modal-body">
		      	  <div class="row">
                  	 <div class="col-md-12">
	                  	<div class="col-sm-12">
	                  		<p class="form-row form-row form-row-wide">
		                  	   <select name="" class="form-control">
	                              <option>::카테고리 선택::</option>
	                              <option>책갈피(-300)</option>
	                              <option>오천원 문화상품권(-500)</option>
	                              <option>만원 문화상품권(-1000)</option>
	                          </select>
                           </p>
	                  	</div>
                  	 </div>
                  	 <div class="col-md-12">
	                  	<div class="col-sm-6">	
	                       <p class="form-row form-row form-row-wide">&nbsp;사용포인트
	                       	<input name="cTitle" class="form-control" type="text" readonly="readonly">
	                       </p>
	                  	</div>
	                  	<div class="col-sm-6">	
	                       <p class="form-row form-row form-row-wide">&nbsp;총 포인트
	                       	<input name="cTitle" class="form-control" type="text" readonly="readonly">
	                       </p>
	                  	</div>
	                </div>
                 </div>
		      </div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-dark-gray" data-dismiss="modal" aria-label="Close">닫기</button>
		      </div>
		    </form>
		  </div>
		</div>
    </th:block>
</html>